{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(fb, authService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.loginForm = this.fb.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    if (this.loginForm.valid) {\n      const {\n        username,\n        password\n      } = this.loginForm.value;\n      this.authService.login(username, password).subscribe(response => {\n        if (response.token) {\n          // Almacenar el token en localStorage\n          localStorage.setItem('authToken', response.token);\n          alert('Credenciales correctas');\n          this.router.navigate(['/products']); // Redirigir a la página de productos\n        }\n      }, error => {\n        alert('Credenciales inválidas');\n      });\n    }\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 20,\n      vars: 2,\n      consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-4\"], [1, \"card\"], [1, \"card-header\", \"text-center\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", \"formControlName\", \"username\", \"placeholder\", \"Ingresa tu usuario\", 1, \"form-control\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Ingresa tu contrase\\u00F1a\", 1, \"form-control\"], [1, \"form-group\", \"text-center\", \"mt-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\");\n          i0.ɵɵtext(6, \"Iniciar Sesi\\u00F3n\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"form\", 6);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_8_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n          i0.ɵɵtext(11, \"Usuario\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"input\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 7)(14, \"label\", 10);\n          i0.ɵɵtext(15, \"Contrase\\u00F1a\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(16, \"input\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 12)(18, \"button\", 13);\n          i0.ɵɵtext(19, \" Iniciar sesi\\u00F3n \");\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n        }\n      },\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;AASnE,OAAM,MAAOC,cAAc;EAGzBC,YACUC,EAAe,EACfC,WAAwB,EACxBC,MAAc;IAFd,OAAE,GAAFF,EAAE;IACF,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IAEd,IAAI,CAACC,SAAS,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAC7BC,QAAQ,EAAE,CAAC,EAAE,EAAER,UAAU,CAACS,QAAQ,CAAC;MACnCC,QAAQ,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACS,QAAQ;KACnC,CAAC;EACJ;EAEAE,QAAQ;IACN,IAAI,IAAI,CAACL,SAAS,CAACM,KAAK,EAAE;MACxB,MAAM;QAAEJ,QAAQ;QAAEE;MAAQ,CAAE,GAAG,IAAI,CAACJ,SAAS,CAACO,KAAK;MACnD,IAAI,CAACT,WAAW,CAACU,KAAK,CAACN,QAAQ,EAAEE,QAAQ,CAAC,CAACK,SAAS,CACjDC,QAAQ,IAAI;QACX,IAAIA,QAAQ,CAACC,KAAK,EAAE;UAClB;UACAC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEH,QAAQ,CAACC,KAAK,CAAC;UACjDG,KAAK,CAAC,wBAAwB,CAAC;UAC/B,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;;MAEzC,CAAC,EACAC,KAAK,IAAI;QACRF,KAAK,CAAC,wBAAwB,CAAC;MACjC,CAAC,CACF;;EAEL;;;uBA/BWnB,cAAc;IAAA;EAAA;;;YAAdA,cAAc;MAAAsB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCV3BC,8BAA4B;UAKdA,mCAAc;UAAAA,iBAAK;UAEzBA,8BAAuB;UACSA;YAAA,OAAYC,cAAU;UAAA,EAAC;UACnDD,8BAAwB;UACAA,wBAAO;UAAAA,iBAAQ;UACrCA,4BAME;UACJA,iBAAM;UAENA,+BAAwB;UACAA,gCAAU;UAAAA,iBAAQ;UACxCA,6BAME;UACJA,iBAAM;UAENA,gCAAyC;UAErCA,sCACF;UAAAA,iBAAS;;;UA1BPA,eAAuB;UAAvBA,yCAAuB;UAwBqBA,gBAA6B;UAA7BA,+CAA6B","names":["Validators","LoginComponent","constructor","fb","authService","router","loginForm","group","username","required","password","onSubmit","valid","value","login","subscribe","response","token","localStorage","setItem","alert","navigate","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\user\\Downloads\\Pruebas\\Oncredit\\gestion-productos\\src\\app\\components\\login\\login.component.ts","C:\\Users\\user\\Downloads\\Pruebas\\Oncredit\\gestion-productos\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  loginForm: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n\n  onSubmit() {\n    if (this.loginForm.valid) {\n      const { username, password } = this.loginForm.value;\n      this.authService.login(username, password).subscribe(\n        (response) => {\n          if (response.token) {\n            // Almacenar el token en localStorage\n            localStorage.setItem('authToken', response.token);\n            alert('Credenciales correctas');\n            this.router.navigate(['/products']); // Redirigir a la página de productos\n          }\n        },\n        (error) => {\n          alert('Credenciales inválidas');\n        }\n      );\n    }\n  }\n}\n","<div class=\"container mt-5\">\n  <div class=\"row justify-content-center\">\n    <div class=\"col-md-4\">\n      <div class=\"card\">\n        <div class=\"card-header text-center\">\n          <h3>Iniciar Sesión</h3>\n        </div>\n        <div class=\"card-body\">\n          <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\n            <div class=\"form-group\">\n              <label for=\"username\">Usuario</label>\n              <input\n                type=\"text\"\n                id=\"username\"\n                class=\"form-control\"\n                formControlName=\"username\"\n                placeholder=\"Ingresa tu usuario\"\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"password\">Contraseña</label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                class=\"form-control\"\n                formControlName=\"password\"\n                placeholder=\"Ingresa tu contraseña\"\n              />\n            </div>\n\n            <div class=\"form-group text-center mt-3\">\n              <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!loginForm.valid\">\n                Iniciar sesión\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}